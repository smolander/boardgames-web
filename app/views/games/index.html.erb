<p id="notice"><%= notice %></p>

<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
  <a class="navbar-brand" href="#">Games</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="form-group">
    <%= form_tag(games_url, method: "get", :class => 'form-inline border m-2 d-inline-flex') do %>
      <div class="input-group m-3">

        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">Number of players: </span>
        </div>
        <%= number_field_tag(:num_play, nil, class: "form-control") %>
      </div>
      <div class="input-group m-3">

        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">Minimum playtime: </span>
        </div>
        <%= number_field_tag(:play_time_min, nil, class: "form-control") %>
      </div>
      <div class="input-group m-3">

        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">Maximum playtime: </span>
        </div>
        <%= number_field_tag(:play_time_max, nil, class: "form-control") %>
      </div>
      <div class="input-group m-3">

        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">Age: </span>
        </div>
        <%= number_field_tag(:age, nil, class: "form-control") %>
      </div>
      <%= submit_tag("Filter", class: "btn btn-primary  m-3") %>
      </div>
    <% end %>
    <div class="border m-1">
      <%= link_to 'New Game', new_game_path, :class => "btn btn-primary m-3" %>
    </div>
    <div class="border m-1">
      <%= link_to 'Log Out', destroy_user_session_path, {:method => 'delete', :class => "btn btn-primary m-3"} %>
    </div>
    <div class="border m-1">
      <%= link_to 'My profile', edit_user_registration_path, {:method => 'get', :class => "btn btn-primary m-3"} %>
    </div>
    <% if can? :manage, User %>
      <%= link_to 'Users', users_path, {:method => 'get', :class => "btn btn-primary m-3"} %>
    <% end %>
    </nav>


<table class="table m-2 table-bordered table-striped table-hover">
  <thead class="thead-dark">
    <tr>
      <th>Name</th>
      <th>Minimum players</th>
      <th>Maximum players</th>
      <th>Minimum playtime</th>
      <th>Maximum playtime</th>
      <th>Typical playtime</th>
      <th>Age</th>
<!--      <th>Categories</th>-->
      <th>User</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @games.each do |game| %>
      <tr>
        <td><%= game.name %></td>
        <td><%= game.minimum_players %></td>
        <td><%= game.maximum_players %></td>
        <td><%= game.minimum_playtime %></td>
        <td><%= game.maximum_playtime %></td>
        <td><%= game.typical_playtime %></td>
        <td><%= game.age %></td>
<!--        <td><%#= game.categories %></td>-->
        <td><%= game.user  %></td>
        <td><%= link_to '&#128065;'.html_safe, game %></td>
        <td><%= link_to '&#128221;'.html_safe, edit_game_path(game) %></td>
        <td><%= link_to '&#128465;'.html_safe, game, method: :delete, data: { confirm: 'Are you sure?' } %></td>

      </tr>
    <% end %>
  </tbody>
</table>

<br>


